#æ•£åˆ—è¡¨ è‹±æ–‡åhash table,ä¹Ÿå«å“ˆå¸Œè¡¨
#å®ƒä¹Ÿæ˜¯ä¸€ç§çº¿æ€§è¡¨çš„å­˜å‚¨ç»“æ„,å®ƒæ˜¯ç”±ä¸€ä¸ªå¯»å€è¡¨å’Œä¸€ä¸ªå“ˆå¸Œå‡½æ•°ç»„æˆ
#ä¸»è¦çš„æ–¹æ³•æ˜¯é€šè¿‡å“ˆå¸Œå‡½æ•°æ¥è®¡ç®—æ•°æ®å­˜å‚¨ä½ç½®,é€šå¸¸æ˜¯å°†å…³é”®å­—kä½œä¸ºè‡ªå˜é‡
#ä¸€èˆ¬éƒ½æ”¯æŒinsert(key,value)
#get(key),delet(key) å¢æŸ¥åˆ åŠ¨ä½œ

#æ—¢ç„¶æ˜¯çº¿æ€§ç»“æ„çš„è¡¨é‚£ä¹ˆæŸ¥æ‰¾æ–¹å¼æ˜¯ä¸æ˜¯å’Œé“¾è¡¨ä¸€æ ·å‘¢ï¼Ÿ
#
#ç¬¬ä¸€:ç›´æ¥å¯»å€è¡¨
#å½“æˆ‘ä»¬çš„keyçš„æ•°é‡å¾ˆå°çš„æ—¶å€™,ç›´æ¥å¯»å€æ˜¯æœ€å¿«çš„æ–¹æ³•-ä¸€ä¸ªä¸€ä¸ªçš„ç®—
#æ¯”å¦‚æˆ‘ä»¬ç”¨key 0-10 å»ºç«‹æ¥ä¸€ä¸ªåˆ—è¡¨[0,1,2,3,4,5,6,7,8,9,10]ğŸ‡ºæ¯ä¸ªä½ç½®éƒ½æ˜¯ç©ºçš„
#é‚£ä¹ˆæ•´å—æ˜¯æ¯”è¾ƒå°çš„ç›´æ¥é€šè¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—å³å¯
#ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾:
#å½“keyçš„å€¼å¾ˆå¤§çš„æ—¶å€™ éœ€è¦è€—è´¹å¤§é‡çš„å†…å­˜æ¥ç”Ÿæˆå¯¹åº”çš„ç©ºé—´
#æ— æ³•å¤„ç†å…³é”®å­—ä¸æ˜¯æ•°å­—çš„æƒ…å†µ

#ç¬¬äºŒå“ˆå¸ŒæŸ¥è¯¢æ³•(keyä¸ºkçš„å…ƒç´ æ”¾åˆ°kä½ç½®ä¸Š)
#åšæ³•æ„å»ºå¤§å°ä¸ºmçš„å¯»å€è¡¨T
#keyä½œä¸ºkçš„å…ƒç´ æ”¾åˆ°å“ˆå¸Œå‡½æ•°h(k)ä½ç½®ä¸Š-å³[0,m-1]
#æ¯”å¦‚æˆ‘ä»¬ç°åœ¨æœ‰è¿™ä¸ªä¸€ä¸ªé•¿åº¦ä¸º10çš„å“ˆå¸Œè¡¨,å“ˆå¸Œçš„å‡½æ•°ä¸ºh(k)=k%10
#è¦å­˜å‚¨çš„å…ƒç´ ä¸º5,20,11,7
#é‚£ä¹ˆæ•´å—çš„ç»“æ„ä¸º
# [(20),(11),(),(),(),(5),(),(7),(),()]
# [0,1,2,3,4,5,6,7,8,9]
#
#ä½†æ˜¯ç”±äºå“ˆå¸Œè¡¨çš„å¤§å°æ˜¯æœ‰é™çš„ è€Œå­˜å‚¨çš„å€¼æ˜¯æ— æ³•é¢„è®¡çš„
#æ‰€ä»¥å¯¹äºå“ˆå¸Œå‡½æ•°éƒ½ä¼šå‡ºç°ä¸¤ä¸ªä¸åŒå…ƒç´ æ˜ å°„åˆ°åŒä¸€ä½ç½®
#è¿™ç§æƒ…å†µå«å“ˆå¸Œå†²çª æ¯”å¦‚h(10)=h(20)=h(30)
#è§£å†³æ–¹æ³•æœ‰å¼€æ”¾å¯»å€æ³•ï¼šå¦‚æœå“ˆå¸Œå‡½æ•°è¿”å›çš„ä½ç½®å·²ç»æœ‰å€¼,åˆ™å¯ä»¥å‘åæ¢æŸ¥æ–°çš„ä½ç½®æ¥å­˜å‚¨è¿™ä¸ªå€¼
#çº¿æ€§æ¢æŸ¥ï¼šå¦‚æœä½ç½®xè¢«å ç”¨ åˆ™æ¢æŸ¥x+1,x+2
#äºŒæ¬¡æ¢æŸ¥ï¼šå¦‚æœä½ç½®xè¢«å ç”¨,åˆ™æ¢æŸ¥x+ï¼ˆ1çš„å¹³æ–¹ï¼‰æˆ–x-ï¼ˆ1çš„å¹³æ–¹ï¼‰
#äºŒåº¦å“ˆå¸Œ:å‡å¦‚æœ‰nä¸ªå“ˆå¸Œå‡½æ•°,å½“ä½¿ç”¨ç¬¬ä¸€ä¸ªå“ˆå¸Œå‡½æ•°å‘ç”Ÿå†²çª,åˆ™ä½¿ç”¨ç¬¬äºŒä¸ªå“ˆå¸Œå‡½æ•°
#æ‹‰é“¾è¡¨
#å“ˆå¸Œä½ç½®å­˜çš„ä¸æ˜¯ä¸€ä¸ªå…ƒç´ è€Œæ˜¯ä¸€ä¸ªé“¾è¡¨,è¿™æ ·æ¯æ¬¡å†²çªå‘ç”Ÿçš„æ—¶å€™,å†²çªçš„å…ƒç´ å°†ä¼šè¢«åŠ åˆ°è¯¥ä½ç½®é“¾è¡¨çš„æœ€å
#å“ˆå¸Œå‡½æ•°ä¸€èˆ¬æœ‰h(k)=k%m
#ä¹˜æ³•å“ˆå¸Œå‡½æ•°
#h(k)=floor(m*(A*key%1))
#å…¨åŸŸå“ˆå¸Œå‡½æ•°
#ha,b(k)=((a*key+b)mod p)mode m a,b=1,2..,p-1

#pythonä¸­çš„ä¸»è¦ä»£è¡¨å°±æ˜¯å­—å…¸ä¸é›†åˆ,é€šè¿‡key,valueæ¥å­˜å‚¨æ•°æ®ï¼Œé€šè¿‡keyæ‰¾åˆ°å¯¹åº”æ•°æ®è€Œä¸æ˜¯ç›´æ¥é€šè¿‡ä¸‹æ ‡
#é‡Œé¢èƒ½å­˜å‚¨çš„ç±»å‹æ˜¯å¤šæ ·è€Œä¸æ˜¯å•ä¸€ç±»å‹
#å…¶ä¸­çš„åº”ç”¨æœ€ç†Ÿæ‚‰çš„åº”è¯¥æ˜¯md5ç®—æ³•(æŠŠä»»æ„é•¿åº¦çš„æ•°æ®æ˜ å°„ä¸º128ä½å“ˆå¸Œå€¼)ç”¨åœ¨cookieä¸­åŠ å¯†ç”¨æˆ·ä¿¡æ¯
###è®ºå¦‚ä½•å®ç°ä¸€ä¸ªæ‹‰é“¾æ³•å“ˆå¸Œè¡¨
#å®ƒä¹Ÿæ˜¯çº¿æ€§çš„è¡¨,
#æ‰€ä»¥å…ˆåˆ›å»ºä¸€ä¸ªå“ˆå¸Œè¡¨èŠ‚ç‚¹å…ˆ-å…ˆä»èŠ‚ç‚¹å¼€å§‹ç„¶åå†hashèŠ‚ç‚¹
class Node:
    def __init__(self,item=None):
        self.item=item
        self.next =None



class LinkListNode:
    # ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯ä¸€ä¸ªé“¾è¡¨
    def __init__(self):
        #é“¾è¡¨å¤´å’Œå°¾
        self.head=None
        self.tail=None


    def find(self,data):
        """éå†é“¾è¡¨"""
        cur =self.head
        while cur is not None:
            if cur.item == data:
                return True
            else:
                cur=cur.next
        else:
            return False

    def find_items(self):
        """éå†é“¾è¡¨"""
        node =self.head
        while node is not None:
            yield node

            #æŒ‡é’ˆä¸‹ç§»
            node =node.next

    def append(self,data):
        newNode= Node(data)
        if self.head is None:
            self.head=newNode
            self.tail=newNode
        else:
            self.tail.next=newNode
            self.tail=newNode
    def printData(self):
        list1=[]
        for i in self.find_items():
            list1.append(i.item)
        print( "(("+",".join(map(str,list1))+"))")


#åˆ›å»ºå“ˆå¸Œè¡¨
class HashTable:
    def __init__(self,size=10):
        self.size =size
        self.T =[LinkListNode() for h in range(self.size)]
    def h(self,k):
        return k%self.size
    def find(self,k):
        i=self.h(k)
        return self.T[i].find(k)
    def insert(self,k):
        index =self.h(k)
        if not self.find(index):
            self.T[index].append(k)
        else:
            print("ä¸èƒ½é‡å¤æ’å…¥ç›¸åŒçš„å…ƒç´ ")
    def getLength(self):
        return self.size








hash_table =HashTable(30)
for i in range(12):
    hash_table.insert(i)



print(hash_table.find(1))
for h in range(hash_table.getLength()):

    for k in hash_table.T[h].find_items():
        print(h,k.item)
    # hash_table.T[h].printData()














